{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BackButton = void 0;\nvar react_1 = require(\"react\");\nvar sdk_1 = require(\"../../sdk\");\nvar backButton = sdk_1.WebApp.BackButton;\nvar isButtonShown = false;\nvar BackButton = function (_a) {\n  var _b = _a.onClick,\n    onClick = _b === void 0 ? function () {\n      window.history.back();\n    } : _b;\n  (0, react_1.useEffect)(function () {\n    backButton.show();\n    isButtonShown = true;\n    return function () {\n      isButtonShown = false;\n      // Мы ждем 10мс на случай, если на следующем экране тоже нужен BackButton.\n      // Если через это время isButtonShown не стал true, значит следующему экрану кнопка не нужна и мы её прячем\n      setTimeout(function () {\n        if (!isButtonShown) {\n          backButton.hide();\n        }\n      }, 10);\n    };\n  }, []);\n  (0, react_1.useEffect)(function () {\n    sdk_1.WebApp.onEvent(\"backButtonClicked\", onClick);\n    return function () {\n      sdk_1.WebApp.offEvent(\"backButtonClicked\", onClick);\n    };\n  }, [onClick]);\n  return null;\n};\nexports.BackButton = BackButton;","map":{"version":3,"names":["react_1","require","sdk_1","backButton","WebApp","BackButton","isButtonShown","_a","_b","onClick","window","history","back","useEffect","show","setTimeout","hide","onEvent","offEvent","exports"],"sources":["../../../src/react/BackButton/BackButton.tsx"],"sourcesContent":[null],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAMA,IAAME,UAAU,GAAGD,KAAA,CAAAE,MAAM,CAACC,UAAU;AAEpC,IAAIC,aAAa,GAAG,KAAK;AAElB,IAAMD,UAAU,GAAwB,SAAAA,CAACE,EAI/C;MAHCC,EAAA,GAAAD,EAAA,CAAAE,OAEC;IAFDA,OAAO,GAAAD,EAAA,cAAG;MACRE,MAAM,CAACC,OAAO,CAACC,IAAI,EAAE;IACvB,CAAC,GAAAJ,EAAA;EAED,IAAAR,OAAA,CAAAa,SAAS,EAAC;IACRV,UAAU,CAACW,IAAI,EAAE;IACjBR,aAAa,GAAG,IAAI;IACpB,OAAO;MACLA,aAAa,GAAG,KAAK;MACrB;MACA;MACAS,UAAU,CAAC;QACT,IAAI,CAACT,aAAa,EAAE;UAClBH,UAAU,CAACa,IAAI,EAAE;;MAErB,CAAC,EAAE,EAAE,CAAC;IACR,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,IAAAhB,OAAA,CAAAa,SAAS,EAAC;IACRX,KAAA,CAAAE,MAAM,CAACa,OAAO,CAAC,mBAAmB,EAAER,OAAO,CAAC;IAC5C,OAAO;MACLP,KAAA,CAAAE,MAAM,CAACc,QAAQ,CAAC,mBAAmB,EAAET,OAAO,CAAC;IAC/C,CAAC;EACH,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,OAAO,IAAI;AACb,CAAC;AA5BYU,OAAA,CAAAd,UAAU,GAAAA,UAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}