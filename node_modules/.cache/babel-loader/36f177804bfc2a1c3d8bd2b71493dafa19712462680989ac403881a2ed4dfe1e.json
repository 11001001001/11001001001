{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Route,Routes,Link}from'react-router-dom';import Home from'./Home';import Page1 from'./Page1';import Page2 from'./Page2';import Page3 from'./Page3';import Page4 from'./Page4';import LevelPage from'./LevelPage';import StoryComponent from'./StoryComponent';// Import the StoryComponent\nimport'./App.css';import'./Navigation.css';import hackerImg from\"./chpic.su_-_UtyaDuckFull_027-ezgif.com-gif-maker.gif\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL='https://tapduck-3d49976b17d2.herokuapp.com/api';function App(){const[notTime,setNotTime]=useState(null);const[loadingText,setLoadingText]=useState(\"Loading\");const[checksCompleted,setChecksCompleted]=useState(false);const[createCompleted,setCreateCompleted]=useState(false);const[storyCompleted,setStoryCompleted]=useState(null);const[dots,setDots]=useState(\"\");const[usersCount,setUsersCount]=useState(0);window.Telegram.WebApp.expand();window.Telegram.WebApp.setHeaderColor('#282c34');const userId=window.Telegram.WebApp.initDataUnsafe.user.id.toString();const triggerHapticFeedback=()=>{if(window.Telegram.WebApp){window.Telegram.WebApp.HapticFeedback.impactOccurred('soft');}else if(navigator.vibrate){navigator.vibrate(50);}};function decodePromoCode(promoCode){return promoCode.replace(/[a-zA-Z]/g,'');}const handleStoryCompletion=()=>{window.Telegram.WebApp.CloudStorage.setItem('storySeen','true',error=>{if(error){console.error('Failed to set storySeen in cloud storage:',error);}});setStoryCompleted(true);};useEffect(()=>{const platform=window.Telegram.WebApp.platform;window.Telegram.WebApp.CloudStorage.getItems(['storySeen'],(error,result)=>{if(error){console.error('Failed to get storySeen from cloud storage:',error);}else{const seen=result.storySeen==='true';setStoryCompleted(seen);}});if(platform!==\"ios\"&&platform!==\"android\"){window.location.replace('https://hdr2029.github.io/monofacture/');}const fetchInternetTime=async function(){let retryCount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;try{const response=await fetch('https://worldtimeapi.org/api/timezone/Etc/UTC',{timeout:5000});const data=await response.json();// Проверка, есть ли данные о времени в ответе\nif(!data.unixtime){throw new Error('No time data in response');}const internetUnixTime=data.unixtime;const localUnixTime=Math.floor(Date.now()/1000);const allowedOffset=100;const timeDifference=Math.abs(localUnixTime-internetUnixTime);if(timeDifference>allowedOffset){setNotTime(true);}}catch(error){console.error('Error fetching time from the internet:',error);// Если ошибка и еще есть попытки\nif(retryCount>0){console.log(\"Retrying... \".concat(retryCount,\" attempts left\"));// Таймаут перед повторным запросом\nsetTimeout(()=>fetchInternetTime(retryCount-1),5000);}}finally{setChecksCompleted(true);}};fetchInternetTime();},[]);const fetchPromoData=userId=>{fetch(\"https://tapduck-3d49976b17d2.herokuapp.com/api/promo-count/\".concat(userId)).then(response=>response.json()).then(data=>{const{promo_count}=data;setUsersCount(promo_count);window.Telegram.WebApp.CloudStorage.setItem('usersCount',promo_count,error=>{if(error){console.error('Failed to set promo in cloud storage:',error);}});}).catch(error=>console.error('Failed to fetch promo data:',error));};useEffect(()=>{const checkUserExistence=async()=>{const userId=window.Telegram.WebApp.initDataUnsafe.user.id.toString();const promoCode=window.Telegram.WebApp.initDataUnsafe.start_param;const isPremium=window.Telegram.WebApp.initDataUnsafe.user.is_premium;const decodedPromoCode=promoCode?decodePromoCode(promoCode):null;try{const response=await fetch(\"\".concat(API_BASE_URL,\"/user/\").concat(userId,\"/\"));if(response.status===404){// Новый пользователь, создаем и обновляем баланс\nconst userData={user_id:userId,username:window.Telegram.WebApp.initDataUnsafe.user.username,first_name:window.Telegram.WebApp.initDataUnsafe.user.first_name,last_name:window.Telegram.WebApp.initDataUnsafe.user.last_name,last_date:new Date().toISOString(),promo_code:decodedPromoCode,is_premium:isPremium};const createUserResponse=await fetch(\"\".concat(API_BASE_URL,\"/user/\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userData)});if(createUserResponse.ok){// Определяем начальный баланс\nlet initialBalance=0;if(promoCode&&isPremium){initialBalance=2000;}else if(promoCode){initialBalance=500;}window.Telegram.WebApp.CloudStorage.setItem('balance',initialBalance.toString(),error=>{if(error){console.error('Не удалось установить начальный баланс в cloud storage:',error);}});window.Telegram.WebApp.CloudStorage.setItem('existed001','true',error=>{if(error){console.error('Не удалось установить exist1 в cloud storage:',error);}});}else{console.error('Не удалось создать пользователя');}}else if(response.ok){// Существующий пользователь\nwindow.Telegram.WebApp.CloudStorage.setItem('existed001','true',error=>{if(error){console.error('Не удалось установить exist1 в cloud storage:',error);}});}}catch(error){console.error('Ошибка при проверке существования пользователя:',error);}finally{// Установка флага по завершению\nsetCreateCompleted(true);}};window.Telegram.WebApp.CloudStorage.getItems(['existed001'],(error,result)=>{if(error){console.error('Failed to get exist1 from cloud storage:',error);}else{const exist1=result.existed001?result.existed001==='true':false;if(!exist1){checkUserExistence();}else{fetchPromoData(userId);setCreateCompleted(true);}}});},[]);useEffect(()=>{if(!checksCompleted){const interval=setInterval(()=>{setDots(prevDots=>{// Если точек уже 3, убираем все и начинаем заново, иначе добавляем точку\nreturn prevDots.length<3?prevDots+\".\":\"\";});},250);// Используем случайное время для добавления точки\nreturn()=>clearInterval(interval);// Очищаем интервал при завершении\n}},[checksCompleted]);if(!checksCompleted&&!createCompleted){return/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'black',color:'white',height:'100vh',display:'flex',justifyContent:'center',alignItems:'center'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-screen\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://i.ibb.co/X585gbc/photo-output.jpg\",alt:\"Loading\"}),/*#__PURE__*/_jsxs(\"h3\",{className:\"loading-text\",children:[loadingText,/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-block',width:'20px',textAlign:'left'},children:dots}),\" \"]})]})});}if(notTime===true){return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'black',color:'white',height:'100vh',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"img\",{src:hackerImg,alt:\"Suspicious activity detected\",style:{marginBottom:'20px',width:'100px'}}),/*#__PURE__*/_jsx(\"h1\",{children:\"Hah.. Little hacker :)\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontStyle:'italic',fontSize:'11px',textAlign:'center',marginTop:'20px'},children:\"Good try but let's play fair. Any suspicious activity may lead to blockage of the account.\"})]});}if(!storyCompleted&&checksCompleted===true){return/*#__PURE__*/_jsx(StoryComponent,{onComplete:handleStoryCompletion});}return/*#__PURE__*/_jsx(Router,{basename:\"/11001001001\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{}),exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/page1\",element:/*#__PURE__*/_jsx(Page1,{}),exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/page2\",element:/*#__PURE__*/_jsx(Page2,{}),exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/page3\",element:/*#__PURE__*/_jsx(Page3,{}),exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/page4\",element:/*#__PURE__*/_jsx(Page4,{}),exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/levelpage\",element:/*#__PURE__*/_jsx(LevelPage,{}),exact:true})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"nav\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"nav-link\",onClick:triggerHapticFeedback,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/1/12/Sodium-crystal-3D-vdW.png\",alt:\"Home\",className:\"nav-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mining\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/page1\",className:\"nav-link\",onClick:triggerHapticFeedback,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn3d.iconscout.com/3d/premium/thumb/game-controller-4035922-3342601.png\",alt:\"Page 1\",className:\"nav-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Game\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/page2\",className:\"nav-link\",onClick:triggerHapticFeedback,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn3d.iconscout.com/3d/premium/thumb/magnetic-power-7074108-5752015.png?f=webp\",alt:\"Page 2\",className:\"nav-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Friends\"})]})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Link","Home","Page1","Page2","Page3","Page4","LevelPage","StoryComponent","hackerImg","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","App","notTime","setNotTime","loadingText","setLoadingText","checksCompleted","setChecksCompleted","createCompleted","setCreateCompleted","storyCompleted","setStoryCompleted","dots","setDots","usersCount","setUsersCount","window","Telegram","WebApp","expand","setHeaderColor","userId","initDataUnsafe","user","id","toString","triggerHapticFeedback","HapticFeedback","impactOccurred","navigator","vibrate","decodePromoCode","promoCode","replace","handleStoryCompletion","CloudStorage","setItem","error","console","platform","getItems","result","seen","storySeen","location","fetchInternetTime","retryCount","arguments","length","undefined","response","fetch","timeout","data","json","unixtime","Error","internetUnixTime","localUnixTime","Math","floor","Date","now","allowedOffset","timeDifference","abs","log","concat","setTimeout","fetchPromoData","then","promo_count","catch","checkUserExistence","start_param","isPremium","is_premium","decodedPromoCode","status","userData","user_id","username","first_name","last_name","last_date","toISOString","promo_code","createUserResponse","method","headers","body","JSON","stringify","ok","initialBalance","exist1","existed001","interval","setInterval","prevDots","clearInterval","style","backgroundColor","color","height","display","justifyContent","alignItems","children","className","src","alt","width","textAlign","flexDirection","marginBottom","fontStyle","fontSize","marginTop","onComplete","basename","path","element","exact","to","onClick"],"sources":["/Users/home/Desktop/33/duck/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\nimport Home from './Home';\nimport Page1 from './Page1';\nimport Page2 from './Page2';\nimport Page3 from './Page3'; \nimport Page4 from './Page4'; \nimport LevelPage from './LevelPage';\nimport StoryComponent from './StoryComponent'; // Import the StoryComponent\nimport './App.css';\nimport './Navigation.css';\nimport hackerImg from \"./chpic.su_-_UtyaDuckFull_027-ezgif.com-gif-maker.gif\"\n\nconst API_BASE_URL = 'https://tapduck-3d49976b17d2.herokuapp.com/api';\n\nfunction App() {\n  const [notTime, setNotTime] = useState(null);\n  const [loadingText, setLoadingText] = useState(\"Loading\");\n  const [checksCompleted, setChecksCompleted] = useState(false);\n  const [createCompleted, setCreateCompleted] = useState(false);\n  const [storyCompleted, setStoryCompleted] = useState(null);\n  const [dots, setDots] = useState(\"\");\n  const [usersCount, setUsersCount] = useState(0);\n\n\n  window.Telegram.WebApp.expand();\n  window.Telegram.WebApp.setHeaderColor('#282c34');\n  const userId = window.Telegram.WebApp.initDataUnsafe.user.id.toString();\n\n\n  const triggerHapticFeedback = () => {\n    if (window.Telegram.WebApp) {\n      window.Telegram.WebApp.HapticFeedback.impactOccurred('soft');\n    } else if (navigator.vibrate) {\n      navigator.vibrate(50);\n    }\n  };\n\n  function decodePromoCode(promoCode) {\n    return promoCode.replace(/[a-zA-Z]/g, '');\n  }\n\n  const handleStoryCompletion = () => {\n    window.Telegram.WebApp.CloudStorage.setItem('storySeen', 'true', (error) => {\n      if (error) {\n        console.error('Failed to set storySeen in cloud storage:', error);\n      }\n    });\n    setStoryCompleted(true);\n  };\n\n  useEffect(() => {\n    const platform = window.Telegram.WebApp.platform;\n    window.Telegram.WebApp.CloudStorage.getItems(['storySeen'], (error, result) => {\n      if (error) {\n        console.error('Failed to get storySeen from cloud storage:', error);\n      } else {\n        const seen = result.storySeen === 'true'; \n        setStoryCompleted(seen);\n      }\n    });\n\n    if (platform !== \"ios\" && platform !== \"android\") {\n      window.location.replace('https://hdr2029.github.io/monofacture/');    \n    }\n\n      const fetchInternetTime = async (retryCount = 3) => {\n        try {\n          const response = await fetch('https://worldtimeapi.org/api/timezone/Etc/UTC', { timeout: 5000 });\n          const data = await response.json();\n      \n          // Проверка, есть ли данные о времени в ответе\n          if (!data.unixtime) {\n            throw new Error('No time data in response');\n          }\n      \n          const internetUnixTime = data.unixtime;\n          const localUnixTime = Math.floor(Date.now() / 1000);\n      \n          const allowedOffset = 100;\n          const timeDifference = Math.abs(localUnixTime - internetUnixTime);\n          if (timeDifference > allowedOffset) {\n            setNotTime(true);\n          }\n      \n        } catch (error) {\n          console.error('Error fetching time from the internet:', error);\n      \n          // Если ошибка и еще есть попытки\n          if (retryCount > 0) {\n            console.log(`Retrying... ${retryCount} attempts left`);\n      \n            // Таймаут перед повторным запросом\n            setTimeout(() => fetchInternetTime(retryCount - 1), 5000);\n          }\n        } finally {\n          setChecksCompleted(true);\n        }\n      };\n      \n  \n    fetchInternetTime();\n  }, []);\n\n  const fetchPromoData = (userId) => {\n    fetch(`https://tapduck-3d49976b17d2.herokuapp.com/api/promo-count/${userId}`)\n      .then(response => response.json())\n      .then(data => {\n        const { promo_count } = data;\n        setUsersCount(promo_count);\n        window.Telegram.WebApp.CloudStorage.setItem('usersCount', promo_count, (error) => {\n          if (error) {\n            console.error('Failed to set promo in cloud storage:', error);\n          }\n        });\n      })\n      .catch(error => console.error('Failed to fetch promo data:', error));\n  };\n\n  useEffect(() => {\n    const checkUserExistence = async () => {\n      const userId = window.Telegram.WebApp.initDataUnsafe.user.id.toString();\n      const promoCode = window.Telegram.WebApp.initDataUnsafe.start_param;\n      const isPremium = window.Telegram.WebApp.initDataUnsafe.user.is_premium;\n      const decodedPromoCode = promoCode ? decodePromoCode(promoCode) : null;\n    \n      try {\n        const response = await fetch(`${API_BASE_URL}/user/${userId}/`);\n        if (response.status === 404) {\n          // Новый пользователь, создаем и обновляем баланс\n          const userData = {\n            user_id: userId,\n            username: window.Telegram.WebApp.initDataUnsafe.user.username,\n            first_name: window.Telegram.WebApp.initDataUnsafe.user.first_name,\n            last_name: window.Telegram.WebApp.initDataUnsafe.user.last_name,\n            last_date: new Date().toISOString(),\n            promo_code: decodedPromoCode,\n            is_premium: isPremium,\n          };\n    \n          const createUserResponse = await fetch(`${API_BASE_URL}/user/`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(userData),\n          });\n    \n          if (createUserResponse.ok) {\n            // Определяем начальный баланс\n            let initialBalance = 0;\n            if (promoCode && isPremium) {\n              initialBalance = 2000;\n            } else if (promoCode) {\n              initialBalance = 500;\n            }\n    \n            window.Telegram.WebApp.CloudStorage.setItem('balance', initialBalance.toString(), (error) => {\n              if (error) {\n                console.error('Не удалось установить начальный баланс в cloud storage:', error);\n              }\n            });\n    \n            window.Telegram.WebApp.CloudStorage.setItem('existed001', 'true', (error) => {\n              if (error) {\n                console.error('Не удалось установить exist1 в cloud storage:', error);\n              }\n            });\n          } else {\n            console.error('Не удалось создать пользователя');\n          }\n        } else if (response.ok) {\n          // Существующий пользователь\n          window.Telegram.WebApp.CloudStorage.setItem('existed001', 'true', (error) => {\n            if (error) {\n              console.error('Не удалось установить exist1 в cloud storage:', error);\n            }\n          });\n        }\n      } catch (error) {\n        console.error('Ошибка при проверке существования пользователя:', error);\n      } finally {\n        // Установка флага по завершению\n        setCreateCompleted(true);\n      }\n    };\n    \n  \n    window.Telegram.WebApp.CloudStorage.getItems(['existed001'], (error, result) => {\n      if (error) {\n        console.error('Failed to get exist1 from cloud storage:', error);\n      } else {\n        const exist1 = result.existed001 ? result.existed001 === 'true' : false;\n        if (!exist1) {\n          checkUserExistence();\n        } else {\n          fetchPromoData(userId)\n          setCreateCompleted(true);\n\n        }\n      }\n    });\n  }, []);\n\n  \n  useEffect(() => {\n    if (!checksCompleted) {\n      const interval = setInterval(() => {\n        setDots((prevDots) => {\n          // Если точек уже 3, убираем все и начинаем заново, иначе добавляем точку\n          return prevDots.length < 3 ? prevDots + \".\" : \"\";\n        });\n      }, 250); // Используем случайное время для добавления точки\n\n      return () => clearInterval(interval); // Очищаем интервал при завершении\n    }\n  }, [checksCompleted]);\n\n\n\n\n  if (!checksCompleted && !createCompleted) {\n    return (\n      <div style={{ backgroundColor: 'black', color: 'white', height: '100vh', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n        <div className=\"loading-screen\">\n        <img src='https://i.ibb.co/X585gbc/photo-output.jpg' alt='Loading'/>\n        <h3 className=\"loading-text\">{loadingText}<span style={{ display: 'inline-block', width: '20px', textAlign: 'left' }}>{dots}</span> {/* Точки всегда остаются справа */}</h3>\n      </div>\n      </div>\n    );\n  }\n  \n\n  if (notTime === true) {\n    return (\n      <div style={{ backgroundColor: 'black', color: 'white', height: '100vh', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center' }}>\n        <img src={hackerImg} alt=\"Suspicious activity detected\" style={{ marginBottom: '20px', width: '100px' }} />\n        <h1>Hah.. Little hacker :)</h1>\n        <div style={{ fontStyle: 'italic', fontSize: '11px', textAlign: 'center', marginTop: '20px' }}>\n          Good try but let's play fair. Any suspicious activity may lead to blockage of the account.\n        </div>\n      </div>\n    );\n  }\n  \n  \n  if (!storyCompleted && checksCompleted === true)  {\n    return <StoryComponent onComplete={handleStoryCompletion} />;\n  }\n  \n\n  \n\n  return (\n    <Router basename=\"/11001001001\">\n      <div className=\"App\">\n        <Routes>\n          <Route path=\"/\" element={<Home />} exact />\n          <Route path=\"/page1\" element={<Page1 />} exact />\n          <Route path=\"/page2\" element={<Page2 />} exact />\n          <Route path=\"/page3\" element={<Page3 />} exact /> \n          <Route path=\"/page4\" element={<Page4 />} exact /> \n          <Route path=\"/levelpage\" element={<LevelPage />} exact /> \n        </Routes>\n        <nav className=\"nav\">\n          <Link to=\"/\" className=\"nav-link\" onClick={triggerHapticFeedback}>\n            <img src=\"https://upload.wikimedia.org/wikipedia/commons/1/12/Sodium-crystal-3D-vdW.png\" alt=\"Home\" className=\"nav-icon\" />\n            <span>Mining</span>\n          </Link>\n          <Link to=\"/page1\" className=\"nav-link\" onClick={triggerHapticFeedback}>\n            <img src=\"https://cdn3d.iconscout.com/3d/premium/thumb/game-controller-4035922-3342601.png\" alt=\"Page 1\" className=\"nav-icon\" />\n            <span>Game</span>\n          </Link>\n          <Link to=\"/page2\" className=\"nav-link\" onClick={triggerHapticFeedback}>\n            <img src=\"https://cdn3d.iconscout.com/3d/premium/thumb/magnetic-power-7074108-5752015.png?f=webp\" alt=\"Page 2\" className=\"nav-icon\" />\n            <span>Friends</span>\n          </Link>\n        </nav>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}