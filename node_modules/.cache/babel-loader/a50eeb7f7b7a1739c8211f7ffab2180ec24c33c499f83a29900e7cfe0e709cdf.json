{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import'./Home.css';import walletImg from\"./coins.png\";import appsImg from\"./exclamation.png\";import badgeImg from\"./badge.png\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Home(){const[balance,setBalance]=useState(0);const[level,setLevel]=useState(1);const[usersCount,setUsersCount]=useState(0);const[displayText,setDisplayText]=useState('');const[isScrolling,setIsScrolling]=useState(false);const[timer,setTimer]=useState(0);const[showAnimation,setShowAnimation]=useState(false);const[animationValue,setAnimationValue]=useState(0);const[connected,setConnected]=useState(false);const[isPopupVisible,setIsPopupVisible]=useState(false);const[isLoading,setIsLoading]=useState(true);// Для контроля загрузки\nconst navigate=useNavigate();const userId=window.Telegram.WebApp.initDataUnsafe.user.id.toString();const handleToggleButton=()=>{navigate('/levelpage');};const togglePopup=()=>{triggerHapticFeedback();setIsPopupVisible(!isPopupVisible);};const getUserFirstName=window.Telegram.WebApp.initDataUnsafe.user.first_name;const getUserLastName=window.Telegram.WebApp.initDataUnsafe.user.last_name;const triggerHapticFeedback=()=>{if(window.Telegram.WebApp){window.Telegram.WebApp.HapticFeedback.impactOccurred('light');}else if(navigator.vibrate){navigator.vibrate(50);// Для Android устройств\n}};const params={title:\"Connect Wallet\",message:\"Do you want to connect wallet?\",buttons:[{id:\"yes\",type:\"default\",text:\"Yes\"},{id:\"no\",type:\"destructive\",text:\"No\"}]};function handlePopupResponse(buttonId){if(buttonId===\"yes\"){setConnected(true);window.Telegram.WebApp.CloudStorage.setItem('connected','true',error=>{if(error){console.error('Failed to set connected in cloud storage:',error);}});window.Telegram.WebApp.openTelegramLink('https://t.me/wallet?startattach');}else if(buttonId===\"no\"){console.log(\"Connection denied\");}}const walletHandler=()=>{if(!connected){window.Telegram.WebApp.showPopup(params,handlePopupResponse);}else{window.Telegram.WebApp.openTelegramLink('https://t.me/wallet?startattach');}};useEffect(()=>{const getInitialData=()=>{window.Telegram.WebApp.CloudStorage.getItems(['balance','endTime','timer','connected','usersCount','level011'],(error,result)=>{if(error){console.error('Failed to get initial data from cloud storage:',error);}else{const initialLevel=result.level011?parseInt(result.level011,10):1;const initialBalance=result.balance?parseInt(result.balance,10):0;const savedEndTime=result.endTime?new Date(result.endTime):null;const initialTimer=savedEndTime?Math.max((savedEndTime-new Date())/1000,0):0;const initialConnected=result.connected==='true';const getUsersCount=result.usersCount?result.usersCount:0;setBalance(initialBalance);setTimer(initialTimer);setConnected(initialConnected);setUsersCount(getUsersCount);setLevel(initialLevel);setIsLoading(false);// Данные загружены, можно показывать элементы\n}});};fetchPromoData(userId);getInitialData();},[]);const fetchPromoData=userId=>{fetch(\"https://tapduck-3d49976b17d2.herokuapp.com/api/promo-count/\".concat(userId)).then(response=>response.json()).then(data=>{const{promo_count}=data;setUsersCount(promo_count);window.Telegram.WebApp.CloudStorage.setItem('usersCount',promo_count,error=>{if(error){console.error('Failed to set promo in cloud storage:',error);}});}).catch(error=>console.error('Failed to fetch promo data:',error));};useEffect(()=>{if(timer>0){const interval=setInterval(()=>{setTimer(prevTimer=>{const newTimer=Math.max(prevTimer-1,0);if(newTimer<=0){clearInterval(interval);setDisplayText('Refilled');setIsScrolling(false);window.Telegram.WebApp.CloudStorage.removeItem('endTime',error=>{if(error){console.error('Failed to remove endTime from cloud storage:',error);}});}return newTimer;});},1000);return()=>clearInterval(interval);}},[timer]);useEffect(()=>{if(timer>0){setIsScrolling(true);}},[timer]);const startScrolling=()=>{setIsScrolling(true);const endTime=new Date(Date.now()+14400*1000);// 4 hours from now\nwindow.Telegram.WebApp.CloudStorage.setItem('endTime',endTime.toISOString(),error=>{if(error){console.error('Failed to set endTime in cloud storage:',error);}});setTimer(14400);// 4 hours in seconds\nlet randomNum=Math.floor(Math.random()*901)+100;setDisplayText(randomNum.toString());const interval=setInterval(()=>{randomNum=Math.floor(Math.random()*901)+100;triggerHapticFeedback();setDisplayText(randomNum.toString());},100);setTimeout(()=>{clearInterval(interval);setBalance(prevBalance=>{const newBalance=prevBalance+randomNum;window.Telegram.WebApp.CloudStorage.setItem('balance',newBalance.toString(),error=>{if(error){console.error('Failed to update balance in cloud storage:',error);}});setAnimationValue(randomNum);// Устанавливаем значение для анимации\nsetShowAnimation(true);// Показываем анимацию\nsetTimeout(()=>setShowAnimation(false),2000);// Скрываем анимацию через 2 секунды\nreturn newBalance;});setDisplayText('');},3000);};const formatTime=seconds=>{const h=Math.floor(seconds/3600);const m=Math.floor(seconds%3600/60);const s=Math.floor(seconds%60);return\"\".concat(h,\"h \").concat(m,\"m \").concat(s,\"s\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stars\"}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle-button\",onClick:handleToggleButton,children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Lv.\",level]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup \".concat(isPopupVisible?'visible':''),children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:handleToggleButton,children:\"Close\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"TapDuck\"}),/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:\"30px\",marginTop:\"-25px\",fontFamily:\"Comfortaa, sans-serif\",fontWeight:400},children:\"Welcome\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Our famous duck will give you a random number of coins every day\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You can use these coins in various games within the app to increase your balance\"}),/*#__PURE__*/_jsx(\"p\",{children:\"But be careful! Games can both increase and decrease your balance\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Stay active by inviting your friends to play. For each friend you\\u2019ll get extra coins\"}),/*#__PURE__*/_jsx(\"p\",{children:\"We\\u2019ll make sure Tap Duck becomes valuable\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nickname-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:badgeImg,alt:\"Icon\",className:\"nickname-icon\"}),/*#__PURE__*/_jsx(\"div\",{className:\"nickname\",children:getUserFirstName?getUserFirstName:getUserLastName})]}),/*#__PURE__*/_jsx(\"button\",{className:\"settings-button\",onClick:walletHandler,children:/*#__PURE__*/_jsx(\"img\",{src:walletImg,alt:\"Settings\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"balance-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://kairosrainbow.it/wp-content/uploads/2016/11/coins.png\",alt:\"Icon\",className:\"balance-icon\"}),/*#__PURE__*/_jsx(\"div\",{className:\"balance\",children:balance.toLocaleString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"random-container\",children:!isLoading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"random-title \".concat(displayText.toLowerCase()),children:displayText.toLowerCase()===''&&timer>0?/*#__PURE__*/_jsx(\"div\",{className:\"gif-container\",style:{height:'100px'},children:/*#__PURE__*/_jsx(\"img\",{src:\"https://media.tenor.com/DyB0LzkMkGQAAAAi/ultimate-uyta-ultimate-duck.gif\",alt:\"Loading\",className:\"gif\"})}):displayText}),/*#__PURE__*/_jsx(\"button\",{className:\"random-button\",onClick:startScrolling,disabled:isScrolling||timer>0,children:timer>0?\"\".concat(formatTime(timer)):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://static.vecteezy.com/system/resources/previews/013/079/348/original/3d-illustration-mysteri-box-png.png\",alt:\"Mining Icon\",className:\"button-icon\"}),\"Mining\"]})})]})}),showAnimation&&/*#__PURE__*/_jsxs(\"div\",{className:\"animation\",children:[\"+\",animationValue]})]});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","walletImg","appsImg","badgeImg","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","balance","setBalance","level","setLevel","usersCount","setUsersCount","displayText","setDisplayText","isScrolling","setIsScrolling","timer","setTimer","showAnimation","setShowAnimation","animationValue","setAnimationValue","connected","setConnected","isPopupVisible","setIsPopupVisible","isLoading","setIsLoading","navigate","userId","window","Telegram","WebApp","initDataUnsafe","user","id","toString","handleToggleButton","togglePopup","triggerHapticFeedback","getUserFirstName","first_name","getUserLastName","last_name","HapticFeedback","impactOccurred","navigator","vibrate","params","title","message","buttons","type","text","handlePopupResponse","buttonId","CloudStorage","setItem","error","console","openTelegramLink","log","walletHandler","showPopup","getInitialData","getItems","result","initialLevel","level011","parseInt","initialBalance","savedEndTime","endTime","Date","initialTimer","Math","max","initialConnected","getUsersCount","fetchPromoData","fetch","concat","then","response","json","data","promo_count","catch","interval","setInterval","prevTimer","newTimer","clearInterval","removeItem","startScrolling","now","toISOString","randomNum","floor","random","setTimeout","prevBalance","newBalance","formatTime","seconds","h","m","s","className","children","onClick","style","fontSize","marginTop","fontFamily","fontWeight","src","alt","toLocaleString","toLowerCase","height","disabled"],"sources":["/Users/home/Desktop/33/duck/src/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Home.css';\nimport walletImg from \"./coins.png\";\nimport appsImg from \"./exclamation.png\";\nimport badgeImg from \"./badge.png\";\n\nfunction Home() {\n  const [balance, setBalance] = useState(0);\n  const [level, setLevel] = useState(1);\n  const [usersCount, setUsersCount] = useState(0);\n  const [displayText, setDisplayText] = useState('');\n  const [isScrolling, setIsScrolling] = useState(false);\n  const [timer, setTimer] = useState(0);\n  const [showAnimation, setShowAnimation] = useState(false);\n  const [animationValue, setAnimationValue] = useState(0);\n  const [connected, setConnected] = useState(false);\n  const [isPopupVisible, setIsPopupVisible] = useState(false);\n  const [isLoading, setIsLoading] = useState(true); // Для контроля загрузки\n\n  const navigate = useNavigate();\n  const userId = window.Telegram.WebApp.initDataUnsafe.user.id.toString();\n\n  const handleToggleButton = () => {\n    navigate('/levelpage');\n  };\n\n  const togglePopup = () => {\n    triggerHapticFeedback();\n    setIsPopupVisible(!isPopupVisible);\n  };\n\n  const getUserFirstName = window.Telegram.WebApp.initDataUnsafe.user.first_name;\n  const getUserLastName = window.Telegram.WebApp.initDataUnsafe.user.last_name;\n\n  const triggerHapticFeedback = () => {\n    if (window.Telegram.WebApp) {\n      window.Telegram.WebApp.HapticFeedback.impactOccurred('light');\n    } else if (navigator.vibrate) {\n      navigator.vibrate(50); // Для Android устройств\n    }\n  };\n\n  const params = {\n    title: \"Connect Wallet\",\n    message: \"Do you want to connect wallet?\",\n    buttons: [\n      {\n        id: \"yes\",\n        type: \"default\",\n        text: \"Yes\"\n      },\n      {\n        id: \"no\",\n        type: \"destructive\",\n        text: \"No\"\n      }\n    ]\n  };\n\n  function handlePopupResponse(buttonId) {\n    if (buttonId === \"yes\") {\n      setConnected(true);\n      window.Telegram.WebApp.CloudStorage.setItem('connected', 'true', (error) => {\n        if (error) {\n          console.error('Failed to set connected in cloud storage:', error);\n        }\n      });\n      window.Telegram.WebApp.openTelegramLink('https://t.me/wallet?startattach');\n    } else if (buttonId === \"no\") {\n      console.log(\"Connection denied\");\n    }\n  }\n\n  const walletHandler = () => {\n    if (!connected) {\n      window.Telegram.WebApp.showPopup(params, handlePopupResponse);\n    } else {\n      window.Telegram.WebApp.openTelegramLink('https://t.me/wallet?startattach');\n    }\n  }\n\n  useEffect(() => {\n    const getInitialData = () => {\n      window.Telegram.WebApp.CloudStorage.getItems(['balance', 'endTime', 'timer', 'connected', 'usersCount', 'level011'], (error, result) => {\n        if (error) {\n          console.error('Failed to get initial data from cloud storage:', error);\n        } else {\n          const initialLevel = result.level011 ? parseInt(result.level011, 10) : 1;\n          const initialBalance = result.balance ? parseInt(result.balance, 10) : 0;\n          const savedEndTime = result.endTime ? new Date(result.endTime) : null;\n          const initialTimer = savedEndTime ? Math.max((savedEndTime - new Date()) / 1000, 0) : 0;\n          const initialConnected = result.connected === 'true';\n          const getUsersCount = result.usersCount ? result.usersCount : 0;\n\n          setBalance(initialBalance);\n          setTimer(initialTimer);\n          setConnected(initialConnected);\n          setUsersCount(getUsersCount)\n          setLevel(initialLevel)\n\n          setIsLoading(false); // Данные загружены, можно показывать элементы\n        }\n      });\n    };\n    fetchPromoData(userId)\n    getInitialData();\n  }, []);\n\n  const fetchPromoData = (userId) => {\n    fetch(`https://tapduck-3d49976b17d2.herokuapp.com/api/promo-count/${userId}`)\n      .then(response => response.json())\n      .then(data => {\n        const { promo_count } = data;\n        setUsersCount(promo_count);\n        window.Telegram.WebApp.CloudStorage.setItem('usersCount', promo_count, (error) => {\n          if (error) {\n            console.error('Failed to set promo in cloud storage:', error);\n          }\n        });\n      })\n      .catch(error => console.error('Failed to fetch promo data:', error));\n  };\n\n  useEffect(() => {\n    if (timer > 0) {\n      const interval = setInterval(() => {\n        setTimer((prevTimer) => {\n          const newTimer = Math.max(prevTimer - 1, 0);\n          if (newTimer <= 0) {\n            clearInterval(interval);\n            setDisplayText('Refilled');\n            setIsScrolling(false);\n            window.Telegram.WebApp.CloudStorage.removeItem('endTime', (error) => {\n              if (error) {\n                console.error('Failed to remove endTime from cloud storage:', error);\n              }\n            });\n          }\n          return newTimer;\n        });\n      }, 1000);\n      return () => clearInterval(interval);\n    }\n  }, [timer]);\n\n  useEffect(() => {\n    if (timer > 0) {\n      setIsScrolling(true);\n    }\n  }, [timer]);\n\n  const startScrolling = () => {\n    setIsScrolling(true);\n    const endTime = new Date(Date.now() + 14400 * 1000); // 4 hours from now\n    window.Telegram.WebApp.CloudStorage.setItem('endTime', endTime.toISOString(), (error) => {\n      if (error) {\n        console.error('Failed to set endTime in cloud storage:', error);\n      }\n    });\n\n    setTimer(14400); // 4 hours in seconds\n    let randomNum = Math.floor(Math.random() * 901) + 100;\n\n    setDisplayText(randomNum.toString());\n\n    const interval = setInterval(() => {\n      randomNum = Math.floor(Math.random()* 901) + 100;\n      triggerHapticFeedback();\n      setDisplayText(randomNum.toString());\n    }, 100);\n\n    setTimeout(() => {\n      clearInterval(interval);\n      setBalance((prevBalance) => {\n        const newBalance = prevBalance + randomNum;\n        window.Telegram.WebApp.CloudStorage.setItem('balance', newBalance.toString(), (error) => {\n          if (error) {\n            console.error('Failed to update balance in cloud storage:', error);\n          }\n        });\n        setAnimationValue(randomNum); // Устанавливаем значение для анимации\n        setShowAnimation(true); // Показываем анимацию\n        setTimeout(() => setShowAnimation(false), 2000); // Скрываем анимацию через 2 секунды\n        return newBalance;\n      });\n      setDisplayText('');\n    }, 3000);\n  };\n\n  const formatTime = (seconds) => {\n    const h = Math.floor(seconds / 3600);\n    const m = Math.floor((seconds % 3600) / 60);\n    const s = Math.floor(seconds % 60);\n    return `${h}h ${m}m ${s}s`;\n  };\n\n  return (\n    <div className=\"home\">\n      <div className=\"header\">\n        <div className=\"stars\"></div>\n        <button className=\"toggle-button\" onClick={handleToggleButton}>\n  <span>Lv.{level}</span>\n</button>\n\n        <div className={`popup ${isPopupVisible ? 'visible' : ''}`}>\n          <button className=\"close-button\" onClick={handleToggleButton}>Close</button>\n          <div className=\"popup-content\">\n            <h1>TapDuck</h1>\n            <h2 style={{fontSize: \"30px\", marginTop: \"-25px\", fontFamily: \"Comfortaa, sans-serif\", fontWeight: 400}}>Welcome</h2>\n            <p>Our famous duck will give you a random number of coins every day</p>\n            <p>You can use these coins in various games within the app to increase your balance</p>\n            <p>But be careful! Games can both increase and decrease your balance</p>\n            <p>Stay active by inviting your friends to play. For each friend you’ll get extra coins</p>\n            <p>We’ll make sure Tap Duck becomes valuable</p>\n          </div>\n        </div>\n\n        <div className=\"nickname-container\">\n          <img src={badgeImg} alt=\"Icon\" className=\"nickname-icon\" />\n          <div className=\"nickname\">{getUserFirstName ? getUserFirstName : getUserLastName}</div>\n        </div>\n        <button className=\"settings-button\" onClick={walletHandler}>\n          <img src={walletImg} alt=\"Settings\" />\n        </button>\n      </div>\n\n      <div className=\"balance-container\">\n        <img src=\"https://kairosrainbow.it/wp-content/uploads/2016/11/coins.png\" alt=\"Icon\" className=\"balance-icon\" />\n        <div className=\"balance\">{balance.toLocaleString()}</div>\n      </div>\n\n      <div className=\"random-container\">\n        {!isLoading && (\n          <>\n            <div className={`random-title ${displayText.toLowerCase()}`}>\n              {displayText.toLowerCase() === '' && timer > 0 ? (\n                <div className=\"gif-container\" style={{ height: '100px' }}>\n                  <img src=\"https://media.tenor.com/DyB0LzkMkGQAAAAi/ultimate-uyta-ultimate-duck.gif\" alt=\"Loading\" className=\"gif\" />\n                </div>\n              ) : displayText}\n            </div>\n            <button className=\"random-button\" onClick={startScrolling} disabled={isScrolling || timer > 0}>\n              {timer > 0 ? `${formatTime(timer)}` : \n                (<>\n                  <img src=\"https://static.vecteezy.com/system/resources/previews/013/079/348/original/3d-illustration-mysteri-box-png.png\" alt=\"Mining Icon\" className=\"button-icon\" />\n                  Mining\n                </>)\n              }\n            </button>\n          </>\n        )}\n      </div>\n\n      {showAnimation && (\n        <div className=\"animation\">\n          +{animationValue}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}