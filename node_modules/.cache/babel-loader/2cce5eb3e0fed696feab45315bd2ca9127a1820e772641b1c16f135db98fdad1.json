{"ast":null,"code":"var _jsxFileName = \"/Users/home/Desktop/33/duck/src/LevelPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSprings, animated } from 'react-spring';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Bubble = ({\n  size,\n  style,\n  onClick\n}) => {\n  const bubbleStyle = {\n    width: size,\n    height: size,\n    borderRadius: '50%',\n    backgroundColor: 'skyblue',\n    position: 'absolute',\n    ...style\n  };\n  return /*#__PURE__*/_jsxDEV(animated.div, {\n    style: bubbleStyle,\n    onClick: onClick\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 10\n  }, this);\n};\n_c = Bubble;\nconst Bubbles = () => {\n  _s();\n  // Начальные данные пузырьков в форме воронки\n  const [bubbles, setBubbles] = useState([{\n    id: 1,\n    size: 50,\n    x: -60,\n    y: -60\n  }, {\n    id: 2,\n    size: 70,\n    x: 80,\n    y: -30\n  }, {\n    id: 3,\n    size: 60,\n    x: -100,\n    y: 80\n  }, {\n    id: 4,\n    size: 40,\n    x: 0,\n    y: 100\n  }, {\n    id: 5,\n    size: 55,\n    x: 100,\n    y: 50\n  }]);\n\n  // Функция для расчета минимального расстояния между пузырьками\n  const applyRepulsion = positions => {\n    const repulsionDistance = 5; // Минимальное расстояние между пузырьками\n    let updatedPositions = [...positions];\n    for (let i = 0; i < updatedPositions.length; i++) {\n      for (let j = i + 1; j < updatedPositions.length; j++) {\n        const dx = updatedPositions[j].x - updatedPositions[i].x;\n        const dy = updatedPositions[j].y - updatedPositions[i].y;\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        if (distance < repulsionDistance) {\n          const angle = Math.atan2(dy, dx);\n          const overlap = repulsionDistance - distance;\n\n          // Раздвигаем пузырьки на расстояние\n          updatedPositions[i].x -= Math.cos(angle) * overlap / 2;\n          updatedPositions[i].y -= Math.sin(angle) * overlap / 2;\n          updatedPositions[j].x += Math.cos(angle) * overlap / 2;\n          updatedPositions[j].y += Math.sin(angle) * overlap / 2;\n        }\n      }\n    }\n    return updatedPositions;\n  };\n\n  // Анимация пузырьков\n  const [springs, api] = useSprings(bubbles.length, index => ({\n    to: {\n      x: bubbles[index].x,\n      y: bubbles[index].y\n    },\n    config: {\n      tension: 180,\n      friction: 12\n    }\n  }));\n\n  // Удаление пузырька и перерасчет позиций оставшихся\n  const removeBubble = id => {\n    const remainingBubbles = bubbles.filter(bubble => bubble.id !== id);\n    const centeredBubbles = remainingBubbles.map((bubble, index) => ({\n      ...bubble,\n      x: bubble.x * 0.8,\n      // Смещаем позиции ближе к центру\n      y: bubble.y * 0.8\n    }));\n\n    // Применяем \"магнитное поле\"\n    const newPositions = applyRepulsion(centeredBubbles);\n    setBubbles(newPositions);\n\n    // Обновляем анимацию для оставшихся пузырьков\n    api.start(index => {\n      var _newPositions$index, _newPositions$index2;\n      return {\n        x: (_newPositions$index = newPositions[index]) === null || _newPositions$index === void 0 ? void 0 : _newPositions$index.x,\n        y: (_newPositions$index2 = newPositions[index]) === null || _newPositions$index2 === void 0 ? void 0 : _newPositions$index2.y\n      };\n    });\n  };\n  useEffect(() => {\n    // Применяем начальное отталкивание при монтировании компонента\n    const newPositions = applyRepulsion(bubbles);\n    setBubbles(newPositions);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      width: '100vw',\n      height: '100vh',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    children: springs.map((style, index) => /*#__PURE__*/_jsxDEV(Bubble, {\n      size: bubbles[index].size,\n      style: {\n        transform: style.x.to(x => `translate3d(${x}px, ${style.y.get()}px, 0)`)\n      },\n      onClick: () => removeBubble(bubbles[index].id)\n    }, bubbles[index].id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(Bubbles, \"xqiHKTL+qrsJ0TtkHAuR3JT9Y2U=\", false, function () {\n  return [useSprings];\n});\n_c2 = Bubbles;\nexport default Bubbles;\nvar _c, _c2;\n$RefreshReg$(_c, \"Bubble\");\n$RefreshReg$(_c2, \"Bubbles\");","map":{"version":3,"names":["React","useState","useEffect","useSprings","animated","jsxDEV","_jsxDEV","Bubble","size","style","onClick","bubbleStyle","width","height","borderRadius","backgroundColor","position","div","fileName","_jsxFileName","lineNumber","columnNumber","_c","Bubbles","_s","bubbles","setBubbles","id","x","y","applyRepulsion","positions","repulsionDistance","updatedPositions","i","length","j","dx","dy","distance","Math","sqrt","angle","atan2","overlap","cos","sin","springs","api","index","to","config","tension","friction","removeBubble","remainingBubbles","filter","bubble","centeredBubbles","map","newPositions","start","_newPositions$index","_newPositions$index2","display","justifyContent","alignItems","children","transform","get","_c2","$RefreshReg$"],"sources":["/Users/home/Desktop/33/duck/src/LevelPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSprings, animated } from 'react-spring';\n\nconst Bubble = ({ size, style, onClick }) => {\n  const bubbleStyle = {\n    width: size,\n    height: size,\n    borderRadius: '50%',\n    backgroundColor: 'skyblue',\n    position: 'absolute',\n    ...style,\n  };\n\n  return <animated.div style={bubbleStyle} onClick={onClick} />;\n};\n\nconst Bubbles = () => {\n  // Начальные данные пузырьков в форме воронки\n  const [bubbles, setBubbles] = useState([\n    { id: 1, size: 50, x: -60, y: -60 },\n    { id: 2, size: 70, x: 80, y: -30 },\n    { id: 3, size: 60, x: -100, y: 80 },\n    { id: 4, size: 40, x: 0, y: 100 },\n    { id: 5, size: 55, x: 100, y: 50 },\n  ]);\n\n  // Функция для расчета минимального расстояния между пузырьками\n  const applyRepulsion = (positions) => {\n    const repulsionDistance = 5; // Минимальное расстояние между пузырьками\n    let updatedPositions = [...positions];\n\n    for (let i = 0; i < updatedPositions.length; i++) {\n      for (let j = i + 1; j < updatedPositions.length; j++) {\n        const dx = updatedPositions[j].x - updatedPositions[i].x;\n        const dy = updatedPositions[j].y - updatedPositions[i].y;\n        const distance = Math.sqrt(dx * dx + dy * dy);\n\n        if (distance < repulsionDistance) {\n          const angle = Math.atan2(dy, dx);\n          const overlap = repulsionDistance - distance;\n\n          // Раздвигаем пузырьки на расстояние\n          updatedPositions[i].x -= Math.cos(angle) * overlap / 2;\n          updatedPositions[i].y -= Math.sin(angle) * overlap / 2;\n          updatedPositions[j].x += Math.cos(angle) * overlap / 2;\n          updatedPositions[j].y += Math.sin(angle) * overlap / 2;\n        }\n      }\n    }\n\n    return updatedPositions;\n  };\n\n  // Анимация пузырьков\n  const [springs, api] = useSprings(\n    bubbles.length,\n    (index) => ({\n      to: { x: bubbles[index].x, y: bubbles[index].y },\n      config: { tension: 180, friction: 12 },\n    })\n  );\n\n  // Удаление пузырька и перерасчет позиций оставшихся\n  const removeBubble = (id) => {\n    const remainingBubbles = bubbles.filter((bubble) => bubble.id !== id);\n    const centeredBubbles = remainingBubbles.map((bubble, index) => ({\n      ...bubble,\n      x: bubble.x * 0.8, // Смещаем позиции ближе к центру\n      y: bubble.y * 0.8,\n    }));\n\n    // Применяем \"магнитное поле\"\n    const newPositions = applyRepulsion(centeredBubbles);\n\n    setBubbles(newPositions);\n\n    // Обновляем анимацию для оставшихся пузырьков\n    api.start((index) => ({\n      x: newPositions[index]?.x,\n      y: newPositions[index]?.y,\n    }));\n  };\n\n  useEffect(() => {\n    // Применяем начальное отталкивание при монтировании компонента\n    const newPositions = applyRepulsion(bubbles);\n    setBubbles(newPositions);\n  }, []);\n\n  return (\n    <div\n      style={{\n        position: 'relative',\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n      }}\n    >\n      {springs.map((style, index) => (\n        <Bubble\n          key={bubbles[index].id}\n          size={bubbles[index].size}\n          style={{\n            transform: style.x.to((x) => `translate3d(${x}px, ${style.y.get()}px, 0)`),\n          }}\n          onClick={() => removeBubble(bubbles[index].id)}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Bubbles;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}